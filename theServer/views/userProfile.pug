extends layout

block links

block headScripts

block bodyScripts
  script(src='/javascripts/userProfileHelpers.js')

block content


  .modal.fade(id='userProfileFormModal', name="userProfileFormModal", tabindex='-1')
    .modal-dialog
      .modal-content
        .modal-header
          button.close(type="button" data-dismiss="modal") &times;
          h4.modal-title Edit your profile
        .modal-body

          form(action="/userprofile", id="userProfileForm", name="userProfileForm", method="PUT", enctype="application/x-www-form-urlencoded")

            fieldset

              .form-group
                label.control-label 
                div(class="flex-containerMainCentered")
                  div(class="flex-containerSubProfile")
                    div(class="dont-break-out" style="font-size: 1.0em;")

              .form-group

                label.control-label

                div(style="height:40px; width:100%;")

                  div(style="visibility: hidden; position:absolute; width:100%; padding-right: 36px;")
                    input.form-control.input-md(id="inputElement", name="inputElement", autofocus)
                    span.hide.error
              
                  div(style="visibility: hidden; position:absolute; width:100%; padding-right: 36px;")
                    +selectStateFormControl()
                    span.hide.error

                span.hide.error(id="userProfileFormError")

              button(class="btn btn-default btn-md" data-dismiss="modal") Cancel
              | &nbsp;&nbsp;&nbsp;&nbsp;
              button(class="btn btn-primary btn-md", type="submit") Submit

        .modal-footer
          .loading(style="display:none;")


  .main
    br
    br

    .container
      .row
      
        .col-xs-12.col-sm-3.col-md-3.col-md-3
          .text-center
            img(src="/images/someUser.png")
      
      
        .col-xs-12.col-sm-7.col-md-7.col-md-7
      
          .row
            div(style="height:25px")
      
          .row
      
            - var isodate = `${currentUser.previouslogin}`
            - var millis = Date.parse(isodate)
            .col-xs-12
              .pull-right.text-muted.alertEditUser
                small
                  i Last login:
                    | &nbsp;
                    +newAppDate(millis,true)
      
          .row
            div(style="height:25px")
      
          
          .row
      
            .col-xs-12
              ul.nav.nav-tabs
                li.active
                  a(id="personalInfo" href="#home" data-toggle="tab")
                    h4 Profile
                li
                  a(id="accountInfo" href="#profile" data-toggle="tab")
                    h4 Account
      
              .tab-content
      
                div(class="tab-pane active" id="home")
      
                  div(style="height:16px")
      
      
                  div
                    div
                      h4
                        i First Name:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.firstname}

                      div(class="personalInfo" style="display:none;", data-type="text", data-value=`${currentUser.firstname}`)
                        button(id="firstNameBtn" class="btn btn-primary btn-md") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i Last Name:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.lastname}
      
                      div(class="personalInfo" style="display:none;", data-type="text", data-value=`${currentUser.lastname}`)
                        button(id="lastNameBtn" class="btn btn-primary btn-md") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i City:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.city}
      
                      div(class="personalInfo" style="display:none;", data-type="text", data-value=`${currentUser.city}`)
                        button(id="cityBtn" class="btn btn-primary btn-md") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i State:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="" style="font-size: 1.0em;") #{currentUser.state.full}
      
                      div(class="personalInfo" style="display:none;", data-type="select", data-value=`${currentUser.state.full}`)
                        button(id="stateBtn" class="btn btn-primary btn-md") Edit
      
      
                  div(style="height:28px")
      
                  div
                    button(id="personalInfoUpdate" class="btn btn-success btn-md nav-toggle") Update Personal info
      
      
                div(class="tab-pane" id="profile")
      
                  div(style="height:16px")
      
      
                  div
                    div
                      h4
                        i Username:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="flex-item111 text-muted controlOverflow" style="font-size: 1.0em;") #{currentUser.displayname}
                    small.text-muted
                      | &nbsp;&nbsp;&nbsp;
                      i *Username cannot be changed
      
      
      
                    div(style="height:12px")


      
                  div
                    div
                      h4
                        i Email:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.email}

                      div(class="accountInfo" style="display:none;", data-type="email", data-value=`${currentUser.email}`)
                        button(id="emailBtn" class="btn btn-primary btn-md") Edit
      
                    div(style="height:12px")
      
      

                  div
                    div
                      h4
                        i Password:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") ********
      
                      div(class="accountInfo" style="display:none;", data-type="password", data-value="********")
                        button(id="passwordBtn" class="btn btn-primary btn-md") Edit
                    small.text-muted
                      | &nbsp;&nbsp;&nbsp;
                      i *Password is hidden 
      
      
                  div(style="height:28px")
      
                  div
                    button(id="accountInfoUpdate" class="btn btn-success btn-md nav-toggle") Update Account info

    br
    br

